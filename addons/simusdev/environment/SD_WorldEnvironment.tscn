[gd_scene load_steps=11 format=3 uid="uid://de0qb35isy256"]

[ext_resource type="Environment" uid="uid://cnv5hf1v4ijva" path="res://addons/simusdev/environment/resource.tres" id="1_60syb"]
[ext_resource type="Script" uid="uid://ct0cluy2jd8bg" path="res://addons/simusdev/environment/SD_WorldEnvironment.gd" id="2_on5mi"]
[ext_resource type="PackedScene" uid="uid://5x11hf0610j4" path="res://gamedata/sr_levels/garbage/level.tscn" id="3_60syb"]
[ext_resource type="Script" uid="uid://5by2ms76p5wg" path="res://addons/simusdev/multiplayer/SD_MPPropertySynchronizer.gd" id="4_364gc"]
[ext_resource type="Script" uid="uid://vem3fl0vut75" path="res://addons/simusdev/multiplayer/SD_MPPSSyncedBase.gd" id="5_jp2bx"]
[ext_resource type="Script" uid="uid://cvr8rp4fvo3m0" path="res://addons/simusdev/multiplayer/SD_MPPSSyncedProperty.gd" id="6_0owg2"]

[sub_resource type="Animation" id="Animation_4b6xu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("sun:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1.5708, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:sun_angles")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_60syb"]
resource_name = "cycle"
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("sun:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(1.5708, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:sun_angles")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(90, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4b6xu"]
_data = {
&"RESET": SubResource("Animation_4b6xu"),
&"cycle": SubResource("Animation_60syb")
}

[sub_resource type="Resource" id="Resource_hu2ro"]
script = ExtResource("6_0owg2")
tickrate = 32.0
tickrate_mode = 0
sync_mode = 0
properties = Array[String]([])
sync_at_start = true
interpolation_enabled = false
interpolation_speed = 30.0
node_path = NodePath("")
reliable = false
mode = 0
metadata/_custom_type_script = "uid://cvr8rp4fvo3m0"

[node name="SD_WorldEnvironment" type="WorldEnvironment" node_paths=PackedStringArray("sun", "animation_player")]
environment = ExtResource("1_60syb")
script = ExtResource("2_on5mi")
cycle_speed = 0.05
time = 0.621764
day = 9
year = 2034
sun = NodePath("sun")
animation_player = NodePath("animation_player")

[node name="sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -3.61999e-06, -1, 0, 1, -3.61999e-06, 0, 3.68384, 0)
light_angular_distance = 3.0
shadow_enabled = true

[node name="sync_timer" type="Timer" parent="."]
wait_time = 5.0
one_shot = true
autostart = true
ignore_time_scale = true

[node name="Untitled" parent="." instance=ExtResource("3_60syb")]

[node name="animation_player" type="AnimationPlayer" parent="."]
callback_mode_process = 2
callback_mode_method = 1
libraries = {
&"": SubResource("AnimationLibrary_4b6xu")
}

[node name="sd_mp_property_synchronizer" type="Node" parent="."]
script = ExtResource("4_364gc")
properties = Array[ExtResource("5_jp2bx")]([SubResource("Resource_hu2ro"), null, null])
metadata/_custom_type_script = "uid://5by2ms76p5wg"

[connection signal="timeout" from="sync_timer" to="." method="_on_sync_timer_timeout"]
